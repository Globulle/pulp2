@import 'nib'

ajam_blue = #2677B9
max_width = 577
transition_opts = 3000ms linear

*
	box-sizing border-box
html
	font-size 16px
	height 100%
body
	font 62.5% Helvetica, sans-serif
	height 100%
	margin 0
a
	color ajam_blue
	text-decoration none
a:hover
	text-decoration underline

/* P A G E S */
#pages
	position relative
	min-width 320px
	max-width (max_width)px
	margin 0 auto
#pages[data-state="page-change"]
	overflow hidden
.page-container
	left 0
	visibility hidden
.page-container, .page, .page-mask
	position absolute
	height 100%
	width 100%
.page-mask
	overflow hidden
.page
	top 0
	right 0
	bottom 0
	left 0

.page-container.viewing
	visibility visible
	z-index 99
.page img
	width 100%
	user-select none

.footnote-container
	position absolute
	left 1px
.footnote-container a
	color ajam_blue

/*  P A G E  F O R M A T T I N G  */
// #pages[data-format="single"]
// 	overflow hidden
#pages[data-format="double"]//, #pages[data-format="bookend"]
	max-width (max_width*2)px
#pages[data-format="double"] .page-container.viewing//, #pages[data-format="bookend"] .page-container.viewing
	width 50%
#pages[data-format="double"] .page-container.viewing.right-page
	left 50%

// #pages[data-format="bookend"] #page-container-1.viewing
// 	left 25%

/* T R A N S I T I O N S */
/* S I N G L E */
.page-container.exit-to-left
	animation exit-to-left transition_opts
.page-container.enter-from-left
	animation enter-from-left transition_opts

.page-container.exit-to-right
	animation exit-to-right transition_opts
.page-container.enter-from-right
	animation enter-from-right transition_opts

/* D O U B L E  L E F T  */
#pages[data-format="double"] .page-container.exit-to-left
	animation double-left-exit-to-left transition_opts
#pages[data-format="double"] .page-container.enter-from-left
	animation double-left-enter-from-left transition_opts

#pages[data-format="double"] .page-container.exit-to-right
	animation double-left-exit-to-right transition_opts
#pages[data-format="double"] .page-container.enter-from-right
	animation double-left-enter-from-right transition_opts

/* D O U B L E  R I G H T  */
#pages[data-format="double"] .page-container.right-page.exit-to-left
	animation double-right-exit-to-left transition_opts
#pages[data-format="double"] .page-container.right-page.enter-from-left
	animation double-right-enter-from-left transition_opts

#pages[data-format="double"] .page-container.right-page.exit-to-right
	animation double-right-exit-to-right transition_opts
#pages[data-format="double"] .page-container.right-page.enter-from-right
	animation double-right-enter-from-right transition_opts


#pages[data-format="double"] .page-container.center-page.exit-to-left
	animation double-center-exit-to-left transition_opts


// Left page single page
@keyframes exit-to-left {
	from{
		left 0
	}
	to{
		left -100%
	}
}

@keyframes exit-to-right {
	from{
		left 0
	}
	to{
		left 100%
	}
}

@keyframes enter-from-left {
	from{
		left -100%
	}
	to{
		left 0
	}
}

@keyframes enter-from-right {
	from{
		left 100%
	}
	to{
		left 0
	}
}

// Left page double
@keyframes double-left-exit-to-left {
	from{
		left 0
	}
	to{
		left -100%
	}
}

@keyframes double-left-exit-to-right {
	from{
		left 0
	}
	to{
		left 100%
	}
}

@keyframes double-left-enter-from-left {
	from{
		left -100%
	}
	to{
		left 0
	}
}

@keyframes double-left-enter-from-right {
	from{
		left 100%
	}
	to{
		left 0
	}
}

// Right page
@keyframes double-right-exit-to-left {
	from{
		left 50%
	}
	to{
		left -50%
	}
}

@keyframes double-right-exit-to-right {
	from{
		left 50%
	}
	to{
		left 150%
	}
}

@keyframes double-right-enter-from-left {
	from{
		left -50%
	}
	to{
		left 50%
	}
}

@keyframes double-right-enter-from-right {
	from{
		left 150%
	}
	to{
		left 50%
	}
}


@keyframes double-center-exit-to-left {
	from{
		left 25%
	}
	to{
		left -50%
	}
}




/* F O O T N O T E S */
// #pages[data-state="page"] .footnote-container a
// 	color ajam_blue
// #pages[data-state="changing"] .footnote-container a
// 	color #fff
// #pages[data-state="hotspot"] .footnote-container a
// 	color #fff

/* H O T S P O T S */
.hotspot
	position absolute
	// background-color rgba(0, 255, 204, .5)

/* M A S K S */
.mask
	position absolute
	background-color #fff
	height 0
	opacity 0
	left 0
	right 0
	z-index 999
	transition: height 0s, opacity 0s
#top-mask
	top 0
#bottom-mask
	transform: rotateX(180deg);
	bottom -1px /* To cover up some small clipping that occurs */
.page, .mask
	// transition: transform .3s ease-out

/* M E D I A  Q U E R I E S */
@media (max-width: 570px)
	#pages
		width 100%