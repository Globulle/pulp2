@import 'nib'

ajam_blue = #2677B9
max_width = 577px
transition_opts = 350ms linear
gutter_width = 20px
header_height = 45px
header_padding = 7px
header_margin = 5px
// progress_bar_height = 3px
// progress_bar_margin = 4px
// progress_bar_color = #474545
/* G L O B A L S */
*
	box-sizing border-box
html, body
	width 100%
	height 100%
html
	font-size 16px
body
	font 62.5% Helvetica, sans-serif
	margin 0
	background-color #000
a
	color ajam_blue
	text-decoration none
a:hover
	text-decoration underline
html:-ms-fullscreen
	width 100% /* needed to center contents in IE */
/* end globals */

/* H E A D E R */
#header
	width 100%
	height header_height
	background-color #000
	padding header_padding
	border-bottom 1px solid #474545
	margin-bottom header_margin
html:-moz-full-screen
	#header
		visibility hidden
html:-webkit-full-screen
	#header
		visibility hidden
html:-fullscreen
	#header
		visibility hidden
html:-ms-fullscreen
	width 100%
	#header
		visibility hidden

.header-item-container
	display inline-block
	height 100%
.header-item-container:hover
	cursor pointer
	.header-btn[data-group="options"]
		color #f1f1f1
		border-color #848484
	.header-text
		cursor default
.header-item
	height 100%
	color #ccc
	display inline-table
	vertical-align top
.header-btn
	width (header_height - header_padding*2)
	border-radius 2px
	text-align center
.header-btn[data-group="options"]
	font-size 1.7em
	border 1px solid #646464
.header-btn[data-group="social"]
	font-size 1.7em
.header-text
	display table-cell
	vertical-align bottom
	user-select none
.header-btn-icon
	position relative
.header-btn[data-group="options"] .header-btn-icon
	top 6px
.header-btn[data-group="social"] .header-btn-icon
	top 7px

.header-group
	height 100%
.header-group[data-which="social"],.header-group[data-which="options"]
	float right
.header-group[data-which="options"]
	.header-item-container
		padding 0 8px
.header-item[data-which="page-number"] .header-text
	font-size 1.2em
	font-weight 200
/* end header */

/* P R O G R E S S */
// #progress
// 	width 100%
// 	background-color #474545
// 	height progress_bar_height
// 	margin-bottom progress_bar_margin
/* end progress */

/* N A V  B U T T O N S */
#btns
	position absolute
	top (header_height + header_margin)
	right 0
	bottom 0
	left 0
	z-index 999
.main-nav-btn-container
	width 50%
	height 99%
	display inline-block
	user-select none
	display none
.main-nav-btn-container.full
	width 100%
.main-nav-btn-container[data-dir="prev"]
	text-align left
.main-nav-btn-container[data-dir="next"]
	text-align right
.main-nav-btn-container:hover
	cursor pointer
.main-nav-btn
	top 45%
	display inline-block
	padding 0 8px
	border-radius 2px
	border 1px solid #646464
	position relative
	color #ccc
	font-size 2em
	margin 0 3px
.main-nav-btn-container:hover .main-nav-btn
	color #f1f1f1
	border-color #848484
.btn-text
	position relative
	top -1px
	// display table-cell
	// vertical-align middle
/* end nav buttons */

/* P A G E S */
#pages-wrapper,#pages
	position relative
	max-width max_width
	margin 0 auto
	width 100%
	text-align center
#pages-wrapper
	height "calc(100% - %s)" % (header_height + header_margin)
#pages
	height 100%
body[data-state="page-change"]
	#pages-wrapper
		overflow hidden
.page-container
	left 0
	visibility hidden
.page-container, .page, .page-mask
	position absolute
	height 100%
	width 100%
.page-mask
	overflow hidden
.page
	position relative

.page-container.viewing
	visibility visible
	z-index 99
.page img
	max-width 100%
	max-height 100%
	user-select none
/* end pages */

/*  P A G E  F O R M A T T I N G  */
body[data-format="double"] #pages//, #pages[data-format="bookend"]
	max-width max_width*2
	position relative
	left -(gutter_width/2)

body[data-format="double"] .page-container.viewing//, #pages[data-format="bookend"] .page-container.viewing
	width 50%
body[data-format="double"] .page-container.viewing.right-page
	left 50%
	padding-left gutter_width
	background url('../imgs/assets/border.png') repeat-y 1.5% top #fff

body[data-format="mobile"]
	#btns
		display none
	
/* MOZ Specific hacks */
@-moz-document url-prefix()
	body[data-format="double"] .page-container.viewing.right-page
		left calc(50% - 1px)
/* end page formatting */

/* T R A N S I T I O N S */
/* Single */
.page-container.exit-to-left
	animation exit-to-left transition_opts
.page-container.enter-from-left
	animation enter-from-left transition_opts

.page-container.exit-to-right
	animation exit-to-right transition_opts
.page-container.enter-from-right
	animation enter-from-right transition_opts
/* end single */

/* Double left  */
body[data-format="double"] .page-container.exit-to-left
	animation double-left-exit-to-left transition_opts
body[data-format="double"] .page-container.enter-from-left
	animation double-left-enter-from-left transition_opts

body[data-format="double"] .page-container.exit-to-right
	animation double-left-exit-to-right transition_opts
body[data-format="double"] .page-container.enter-from-right
	animation double-left-enter-from-right transition_opts

/* D O U B L E  R I G H T  */
body[data-format="double"] .page-container.right-page.exit-to-left
	animation double-right-exit-to-left transition_opts
body[data-format="double"] .page-container.right-page.enter-from-left
	animation double-right-enter-from-left transition_opts

body[data-format="double"] .page-container.right-page.exit-to-right
	animation double-right-exit-to-right transition_opts
body[data-format="double"] .page-container.right-page.enter-from-right
	animation double-right-enter-from-right transition_opts
/* end double left */

/* Double center  */
body[data-format="double"] .page-container.center-page.exit-to-left
	animation double-center-exit-to-left transition_opts
/* end double center */


// Left page single page
@keyframes exit-to-left {
	from{
		left 0
	}
	to{
		left -100%
	}
}

@keyframes exit-to-right {
	from{
		left 0
	}
	to{
		left 100%
	}
}

@keyframes enter-from-left {
	from{
		left -100%
	}
	to{
		left 0
	}
}

@keyframes enter-from-right {
	from{
		left 100%
	}
	to{
		left 0
	}
}

// Left page double
@keyframes double-left-exit-to-left {
	from{
		left 0
	}
	to{
		left -100%
	}
}

@keyframes double-left-exit-to-right {
	from{
		left 0
	}
	to{
		left 100%
	}
}

@keyframes double-left-enter-from-left {
	from{
		left -100%
	}
	to{
		left 0
	}
}

@keyframes double-left-enter-from-right {
	from{
		left 100%
	}
	to{
		left 0
	}
}

// Right page
@keyframes double-right-exit-to-left {
	from{
		left 50%
	}
	to{
		left -50%
	}
}

@keyframes double-right-exit-to-right {
	from{
		left 50%
	}
	to{
		left 150%
	}
}

@keyframes double-right-enter-from-left {
	from{
		left -50%
	}
	to{
		left 50%
	}
}

@keyframes double-right-enter-from-right {
	from{
		left 150%
	}
	to{
		left 50%
	}
}


@keyframes double-center-exit-to-left {
	from{
		left 25%
	}
	to{
		left -50%
	}
}
/* end transitions */

/* H O T S P O T S */
.hotspot
	position absolute
	// background-color rgba(0, 255, 204, .5)
/* end hotspots */

/* M A S K S */
.mask
	position absolute
	background-color #000
	height 0
	opacity 0
	left 0
	right 0
	z-index 999
	// transition height 0s, opacity 0s
#top-mask
	top 0
#bottom-mask
	transform rotateX(180deg);
	bottom -1px /* To cover up some small clipping that occurs */
// .page, .mask
// transition: transform .3s ease-out
/* end masks */

/* M E D I A  Q U E R I E S */
@media (max-width: 570px)
	#header
		padding 3px
		height (header_height*2/3)
		.header-btn
			font-size 1.2em
		.header-btn-icon
			top 5px
		.header-group[data-which="right"] .header-item-container
			padding 0 4px
	#pages
		width 100%
/* end media queries */